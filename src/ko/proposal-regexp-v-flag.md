# ECMAScript ì œì•ˆì„œ : ë¬¸ìì—´ì˜ ì†ì„± + ì§‘í•© í‘œê¸°ë²•ê³¼ ì •ê·œí‘œí˜„ì‹ `v` í”Œë˜ê·¸

## ì €ì

- Markus Scherer
- Mathias Bynens

## ìƒíƒœ

ì´ ì œì•ˆì„œëŠ” the 2023ë…„ 5ì›” 16ì¼ íšŒì˜ ë™ì•ˆ [the TC39 ì ˆì°¨](https://tc39.es/process-document/)ì˜ 4ë‹¨ê³„ì— ë„ë‹¬í•˜ì˜€ìŠµë‹ˆë‹¤. ì´ ê²ƒì€ 2023ë…„ 6ì›” 15ì¼ì— [the ECMAScript ì‚¬ì–‘](https://tc39.es/ecma262/)ìœ¼ë¡œ [ì¶”ê°€](https://github.com/tc39/ecma262/pull/2418)ë˜ì–´ the ECMAScript 2024 ìŠ¤ëƒ…ìƒ·ì— í¬í•¨ë  ì˜ˆì •ì…ë‹ˆë‹¤.

2021ë…„ 5ì›” 25ì¼ TC39 íšŒì˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ, ì´ ì œì•ˆì€ ê³µì‹ì ìœ¼ë¡œ [ë¬¸ìì—´ ì œì•ˆì˜ ì†ì„±](https://github.com/tc39/proposal-regexp-unicode-sequence-properties)ìœ¼ë¡œ ê°€ì •í•©ë‹ˆë‹¤.

## ìš”ì•½

ECMAScriptì˜ ì •ê·œ ë¬¸ì í´ë˜ìŠ¤ì—ì„œëŠ”, ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì§‘í•© ì—°ì‚°ìë“¤ì„ ìœ„í•œ ë¬¸ë²•ê³¼ ì–´íœ˜ë“¤ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì œì•ˆí•©ë‹ˆë‹¤.

- ì°¨ì§‘í•© / ëº„ì…ˆ (_A ì¤‘ì—ì„œ Bê°€ ì•„ë‹Œ ê²ƒ_)
- êµì§‘í•© (_Aì— í¬í•¨ë˜ë©´ì„œ Bë„ í¬í•¨ë˜ëŠ” ê²ƒ_)
- ì¤‘ì²©ëœ ë¬¸ì í´ë˜ìŠ¤(_ìœ„ì˜ ì—°ì‚°ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸°ìœ„í•´ í•„ìš”í•œ ê²ƒ_)

ì¶”ê°€ì ìœ¼ë¡œ, [ë¬¸ìì—´ ì†ì„±ì˜ ì œì•ˆ](https://github.com/tc39/proposal-regexp-unicode-sequence-properties)ì— ì¶”ê°€ë¨ìœ¼ë¡œì¨ ë¬¸ìì—´ì˜ íŠ¹ì • ìœ ë‹ˆì½”ë“œ ì†ì„±ê³¼ ë¬¸ìì—´ ë¦¬í„°ëŸ´ì„ ë¬¸ì í´ë˜ìŠ¤ì— ì¶”ê°€í•  ê²ƒì„ ì œì•ˆí•©ë‹ˆë‹¤.

ì´ ì œì•ˆì„œì˜ JavaScript ê°œë°œìë¥¼ ìœ„í•œ ì„¤ëª…ì€ [v8.devì˜ ê¸°ëŠ¥ ê¸°ì‚¬ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”](https://v8.dev/features/regexp-v-flag).

## ì œì•ˆ ë™ê¸°

ëŒ€ë¶€ë¶„ì˜ ì •ê·œ í‘œí˜„ì‹ ì—”ì§„ì€ ìˆ˜ë°± ê°œì˜ ë²”ìœ„ê°€ í•„ìš”í•˜ê³  ìœ ë‹ˆì½”ë“œì˜ ìƒˆ ë²„ì „ì— ë”°ë¼ ë³€ê²½ë  ìˆ˜ ìˆëŠ” í•˜ë“œì½”ë”© ë¬¸ì í´ë˜ìŠ¤ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ëŒ€ë¶€ë¶„ ìœ ë‹ˆì½”ë“œ ë¬¸ì ì†ì„±ì„ ë°˜ì˜í•˜ëŠ” ëª…ëª…ëœ ë¬¸ì ì†ì„±ì„ ì§€ì›í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ì´ëŸ¬í•œ ë¬¸ì ì†ì„±ì€ ì‹œì‘ì ì— ë¶ˆê³¼í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ë§ì…ˆ(ê²°í•©), ëº„ì…ˆ(ì œì™¸), "ì´ê²ƒê³¼ ì €ê²ƒ ëª¨ë‘"(êµì°¨)ê°€ í•„ìš”í•©ë‹ˆë‹¤. [UTS #18: ìœ ë‹ˆì½”ë“œ ì •ê·œ í‘œí˜„ì‹](https://www.unicode.org/reports/tr18/#Subtraction_and_Intersection) ë‚´ì˜ ì§‘í•© ì—°ì‚°ë“¤ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ê¶Œì¥ì‚¬í•­ì„ í™•ì¸í•´ë³´ì„¸ìš”.

ECMAìŠ¤í¬ë¦½íŠ¸ ì •ê·œì‹ íŒ¨í„´ì´ ì´ë¯¸ ì œí•œëœ í˜•íƒœë¡œ í•˜ë‚˜ì˜ ì§‘í•© ì‘ì—…ì„ ì§€ì›í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ í´ë˜ìŠ¤ê°€ '\s' ë˜ëŠ” '\p{Decimal_Number}'ì™€ ê°™ì€ 'CharacterClassEscape'ì¸ ê²½ìš°, ë¬¸ìë“¤ì´ë‚˜ ë²”ìœ„, í´ë˜ìŠ¤ë“¤ì˜ ì§‘í•©ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íŠ¹ì •í•œ ì§‘í•© ì—°ì‚°ê³¼ ì •ê·œ í‘œí˜„ì‹ì˜ ì§ˆë¬¸ì— ëŒ€í•œ ì›¹ ê²€ìƒ‰ì€ ì§‘í•© ì—°ì‚°ë“¤(ëª€ëª…ëœ ì†ì„±ë“¤ì˜ ì¥ì ì„ ìƒìŒ)ì´ë‚˜ ì£¼ì¥ì„ ë¯¸ë¦¬ í™•ì¸(ì´ëŸ¬í•œ ëª©ì ì— ë§ì§€ì•Šê³  ì„±ëŠ¥ì´ ë–¨ì–´ì§) ë¡œë¶€í„° ë°œìƒí•˜ëŠ” ë²”ìœ„ë¥¼ í•˜ë“œì½”ë”©í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ì¤‘ì²©ëœ ë¬¸ì í´ë˜ìŠ¤ì™€ ì°¨ì§‘í•©ê³¼ êµì§‘í•©ë“¤ì„ ìœ„í•œ ë¬¸ë²•ê³¼ ì–´íœ˜ë“¤ì„ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ì œì•ˆí•©ë‹ˆë‹¤.

## ì œì•ˆëœ í•´ê²°ì±…

ì§‘í•©ì˜ ì°¨ì´/ëº„ì…ˆ, êµì§‘í•©, ì¤‘ì²©ëœ ë¬¸ì í´ë˜ìŠ¤ì˜ ì§€ì›ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ ë¬¸ì í´ë˜ìŠ¤ì˜ ë¬¸ë²•ì„ í™•ì¥í•˜ëŠ” ê²ƒì„ ì œì•ˆí•©ë‹ˆë‹¤.

## ê³ ìˆ˜ì¤€ API

ì •ê·œ í‘œí˜„ì‹ íŒ¨í„´ ë‚´ì—ì„œ ë‹¤ìŒ ê¸°ëŠ¥ì„ ì œì•ˆí•©ë‹ˆë‹¤.

```
// ì°¨ì§‘í•©
[A--B]

// êµì§‘í•©
[A&&B]

// ì¤‘ì²©ëœ ë¬¸ì í´ë˜ìŠ¤
[A--[0-9]]
```

ì´ëŸ¬í•œ ê³ ì°¨ì› ì˜ˆì œë“¤ì„ í†µí•´ `A`ì™€ `B`ëŠ” (`[a-z]`ì™€ ê°™ì€) ë¬¸ì í´ë˜ìŠ¤ë‚˜ (`\p{ASCII}`ì™€ ê°™ì€) ì†ì„± ì´ìŠ¤ì¼€ì´í”„, ì–´ì©Œë©´ (êµ¬ì²´ì ì¸ ë…¼ì˜ì— ë”°ë¥¸) ë‹¨ì¼ ë¬¸ì ë˜ëŠ” ë¬¸ì ë²”ìœ„ì˜ ìë¦¬ í‘œì‹œìë¡œ ê°„ì£¼ë©ë‹ˆë‹¤. ì¡°ê¸ˆ ë” êµ¬ì²´ì ì¸ ì‹¤ì‚¬ìš© ì‚¬ë¡€ëŠ” [ì‹¤ì§ˆì ì¸ ì˜ˆì œ ì˜ì—­](#illustrative-examples)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

## ì‹¤ì§ˆì ì¸ ì˜ˆì œ

ì •ê·œ ë¬¸ì í´ë˜ìŠ¤ì™€ ìœ ì‚¬í•œ ë¬¸ë²• ê·œì¹™ì„ êµ¬í˜„í•œ ICUì˜ `UnicodeSet`ë¥¼ ì‚¬ìš©í•œ ì‹¤ ì‚¬ìš© ì‚¬ë¡€ ì…ë‹ˆë‹¤.(`[:POSIX syntax for properties:]`ì™€ `UnicodeSet` ëª¨ë‘ê°€ ì•„ë‹Œ '\p{Perl for properties}'ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.)

- ASCIIê°€ ì•„ë‹Œ ìˆ«ìë¥¼ ASCII ìˆ«ìë¡œ ë³€í™˜í•˜ëŠ” ì½”ë“œ

    ```
    [\p{Decimal_Number}--[0-9]]
    ```

- íŠ¹ì • ìŠ¤í¬ë¦½íŠ¸ì˜ "ë‹¨ì–´/ì‹ë³„ì" ë²”ìœ„ íƒìƒ‰

    ```
    [\p{Script=Khmer}&&[\p{Letter}\p{Mark}\p{Number}]]
    ```

- "ì¤„ ë°”ê¿ˆ ì—†ëŠ” ê³µë°±" íƒìƒ‰

    ```
    [\p{White_Space}--\p{Line_Break=Glue}]
    ```

    ECMAScriptëŠ” í˜„ì¬ `\p{Line_Break=â€¦}`ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ê²ƒì€ ë‹¨ìˆœíˆ ì˜ˆì œì…ë‹ˆë‹¤.

- ASCII ë¬¸ìë¥¼ ì œì™¸í•œ ì´ëª¨ì§€ ë¬¸ì íƒìƒ‰

    ```
    [\p{Emoji}--[#*0-9]]

    // â€¦orâ€¦

    [\p{Emoji}--\p{ASCII}]
    ```

- ë¹„ ìŠ¤í¬ë¦½íŠ¸ì¸ íŠ¹ìˆ˜ ê²°í•© í‘œê¸° íƒìƒ‰

    ```
    [\p{Nonspacing_Mark}&&[\p{Script=Inherited}\p{Script=Common}]]
    ```

- ASCII ê³µê°„ì„ ì œì™¸í•œ "ë³´ì´ì§€ ì•ŠëŠ” ë¬¸ì" íƒìƒ‰

    ```
    [[\p{Other}\p{Separator}\p{White_Space}\p{Default_Ignorable_Code_Point}]--\x20]
    ```

- ë‹¤ìŒìœ¼ë¡œ ì‹œì‘í•˜ëŠ” "ê° ìŠ¤í¬ë¦½íŠ¸ì˜ ì²« ê¸€ì" íƒìƒ‰

    ```
    [\P{NFC_Quick_Check=No}--\p{Script=Common}--\p{Script=Inherited}--\p{Script=Unknown}]
    ```

    ECMAScriptëŠ” í˜„ì¬ [`\p{NFC_Quick_Check=â€¦}`](https://www.unicode.org/reports/tr15/#Quick_Check_Table)ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ê²ƒì€ ë‹¨ìˆœíˆ ì˜ˆì œì…ë‹ˆë‹¤.

- ë¬¸ì, ë§ˆí¬(ë¬¸ì êµ¬ë¶„ ê¸°í˜¸) ë˜ëŠ” ì‹­ì§„ìˆ˜ì¸ ëª¨ë“  ê·¸ë¦¬ìŠ¤ ì½”ë“œ í¬ì¸íŠ¸ íƒìƒ‰

    ```
    [\p{Script_Extensions=Greek}&&[\p{Letter}\p{Mark}\p{Decimal_Number}]]
    ```

- "Other" 'General_Category'ë¥¼ ì œì™¸í•˜ë˜, í›„ì§„ ì œì–´ ë¬¸ìë¥¼ ì¶”ê°€í•œ ëª¨ë“  ì½”ë“œ í¬ì¸íŠ¸ íƒìƒ‰

    ```
    [[\p{Any}--\p{Other}]\p{Control}]
    ```

- êµ¬ë¶„ìë¥¼ ì œì™¸í•œ í• ë‹¹ëœ ëª¨ë“  ì½”ë“œ í¬ì¸íŠ¸ íƒìƒ‰

    ```
    [\p{Assigned}--\p{Separator}]
    ```

- í• ë‹¹ë˜ì§€ ì•Šì€ ì½”ë“œ í¬ì¸íŠ¸ëŠ” ì œê±°í•˜ë˜, RTL ë° ì•„ë¼ë¹„ì•„ ë¬¸ì ì½”ë“œ í¬ì¸íŠ¸ íƒìƒ‰

     ```
     [[\p{Bidi_Class=R}\p{Bidi_Class=AL}]--\p{Unassigned}]
     ```

     ECMAScriptëŠ” í˜„ì¬ [`\p{Bidi_Class=â€¦}`](https://www.unicode.org/reports/tr44/#Bidi_Class)ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ê²ƒì€ ë‹¨ìˆœíˆ ì˜ˆì œì…ë‹ˆë‹¤.


- `General_Category` â€œLetterâ€ì´ë©° RTL ë° ì•„ë¼ë¹„ì•„ ë¬¸ì ì½”ë“œ í¬ì¸íŠ¸ íƒìƒ‰

     ```
     [\p{Letter}&&[\p{Bidi_Class=R}\p{Bidi_Class=AL}]]
     ```

     ECMAScriptëŠ” í˜„ì¬ [`\p{Bidi_Class=â€¦}`](https://www.unicode.org/reports/tr44/#Bidi_Class)ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ ê²ƒì€ ë‹¨ìˆœíˆ ì˜ˆì œì…ë‹ˆë‹¤.

- í˜•ì‹ ë° ì œì–´ ë¬¸ì(ë˜ëŠ” ë™ë“±í•˜ê²Œ ëª¨ë“  ëŒ€ë¦¬, ê°œì¸ ì‚¬ìš© ë° í• ë‹¹ë˜ì§€ ì•Šì€ ì½”ë“œ í¬ì¸íŠ¸)ë¥¼ ì œì™¸í•œ â€œOtherâ€ `General_Category` ë‚´ì˜ ëª¨ë“  ë¬¸ì íƒìƒ‰

    ```
    [\p{Other}--\p{Format}--\p{Control}]
    ```

## ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ë“¤

### ìƒˆ ë¬¸ë²•ì´ ì´ì „ ë²„ì „ê³¼ í˜¸í™˜ë˜ë‚˜ìš”? ë‹¤ë¥¸ ì •ê·œì‹ í”Œë˜ê·¸ê°€ í•„ìš”í•œê°€ìš”?

ì´ì „ ë²„ì „ì— ëŒ€í•œ í˜¸í™˜ì„±ì„ ê¹¨ì§€ ì•ŠëŠ” ê²ƒì´ ì´ ì œì•ˆì˜ ëª…ì‹œì ì¸ ëª©í‘œì…ë‹ˆë‹¤. êµ¬ì²´ì ìœ¼ë¡œ, ìš°ë¦¬ëŠ” í˜„ì¬ ì˜ˆì™¸ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ” ì •ê·œ í‘œí˜„ì‹ íŒ¨í„´ì˜ ë™ì‘ì„ ë³€ê²½í•˜ê³  ì‹¶ì§€ ì•ŠìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ë¬¸ë²•ì´ ì‚¬ìš© ì¤‘ì„ì„ ë‚˜íƒ€ë‚´ëŠ” ì–´ë–¤ ë°©ë²•ì´ í•„ìš”í•©ë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ë„¤ ê°œì˜ ì„ íƒì§€ë¥¼ ê³ ë ¤í•˜ì˜€ìŠµë‹ˆë‹¤.

- í‘œí˜„ì‹ ì™¸ë¶€ì— ìì²´ì ì¸ ìƒˆë¡œìš´ í”Œë˜ê·¸

- í‘œí˜„ì‹ ë‚´ë¶€ì— `L`ì€ í•˜ë‚˜ì˜ ASCII ë¬¸ìì¸ `(?L)` í˜•ì‹ì˜ ì§€ì‹œì

- í˜„ì¬ `u` í”Œë˜ê·¸(ìœ ë‹ˆì½”ë“œ ëª¨ë“œ)ì—ì„œëŠ” ìœ íš¨í•˜ì§€ ì•ŠëŠ” ì ‘ë‘ì‚¬ `\Uâ€¦`. í•˜ì§€ë§Œ `u` í”Œë˜ê·¸ê°€ ì•„ë‹Œ `\U`ëŠ” `U`ì™€ ë™ì¼í•˜ë‹¤ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì„¸ìš”.
        - `u` ì •ê·œ í‘œí˜„ì‹ ë‚´ì—ì„œ ì•Œë ¤ì§€ì§€ ì•ŠëŠ” ì´ìŠ¤ì¼€ì´í”„ ë¬¸ìì—´ì˜ ì‚¬ìš©ì„ ê¸ˆì§€í•˜ëŠ” ê²ƒì€ [ì˜ì‹ì ì¸ ì„ íƒ](https://web.archive.org/web/20141214085510/https://bugs.ecmascript.org/show_bug.cgi?id=3157) ì´ì—ˆìŠµë‹ˆë‹¤. ì´ëŠ” í™•ì¥ì˜ ì¢…ë¥˜ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤.

- _flagì™€ ìƒê´€ì—†ì´_ ì¡´ì¬í•˜ëŠ” íŒ¨í„´ë“¤ì—ì„œ ìœ íš¨í•˜ì§€ ì•Šì€ [`(?[`](https://github.com/tc39/proposal-regexp-set-notation/issues/39)ì™€ ê°™ì€ ì ‘ë‘ì‚¬


ì ‘ë‘ì‚¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì•„ì´ë””ì–´ëŠ” TC39 ì´ˆê¸° íšŒì˜ì—ì„œ ì œì•ˆë˜ì—ˆê¸° ë•Œë¬¸ì—, ìš°ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì–‘í•œ ë°©ì‹ìœ¼ë¡œ ì‘ì—…í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.

```
UnicodeCharacterClass = '\UniSet{' ClassContents '}'
```

ê·¸ëŸ¬ë‚˜ ì´ ê²ƒì€ ê°œë°œì ì¹œí™”ì ì´ì§€ ì•Šë‹¤ëŠ” ê²ƒì„ ë°œê²¬í•˜ì˜€ìŠµë‹ˆë‹¤.

íŠ¹íˆ, ì´ ê²ƒì€ ì ‘ë‘ì‚¬ì™€ `u`í”Œë˜ê·¸ë¥¼ ì‘ì„±í•´ì•¼ë§Œ í•©ë‹ˆë‹¤. WaldemarëŠ” ì „ì¹˜ì‚¬ê°€ ì´ê²ƒ ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•˜ê²Œ ë³´ì¼ ìˆ˜ ìˆê³ , ê·¸ëŸ¬ë¯€ë¡œ ê°œë°œìê°€ 'u' í”Œë˜ê·¸ë¥¼ ì¶”ê°€í•˜ëŠ” ê²ƒì„ ìƒëµí•˜ëŠ” ì‹¤ìˆ˜ë¥¼ í•  ìˆ˜ ìˆë‹¤ê³  ì§€ì í–ˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì¸¡ë©´ì€ `u` í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  í˜„ì¬ ìœ íš¨í•˜ì§€ ì•Šì€ (`(?[`ì™€ ê°™ì€) ë” ë³µì¡í•œ ì „ì¹˜ì‚¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í•´ê²°í•  ìˆ˜ ìˆìœ¼ë‚˜, ì´ëŠ” ê°€ë…ì„±ì´ ë–¨ì–´ì§€ê²Œ ë©ë‹ˆë‹¤.

ë˜í•œ ë°±ìŠ¬ë˜ì‹œ ë¬¸ì ì ‘ë‘ì‚¬ì˜ ì‚¬ìš©ì€ `{ì¤‘ê´„í˜¸}`ì— ìƒˆë¡œìš´ ë¬¸ë²•ì„ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (`\p{property}`, `\u{12345}`ì™€ ê°™ì€) ë‹¤ë¥¸ íŠ¹ì • ë¬¸ë²•ì€ ë¬¸ì í´ë˜ìŠ¤ì˜ ê°€ì¥ ë°”ê¹¥ìª½ ê³„ì¸µì´ ì´ìƒí•˜ê²Œ ë³´ì´ë¯€ë¡œ `[ëŒ€ê´„í˜¸]` ëŒ€ì‹  ì¤‘ê´„í˜¸ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹ ë‚´ë¶€ì— ì—¬ëŸ¬ ê°œì˜ ìƒˆë¡œìš´ ë¬¸ë²• ë¬¸ì í´ë˜ìŠ¤ê°€ ìˆëŠ” ê²½ìš° ê° í´ë˜ìŠ¤ì— ì ‘ë‘ì‚¬ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë°, ì´ëŠ” íˆ¬ë°•í•©ë‹ˆë‹¤.

í‘œí˜„ì‹ ë‚´ì˜ ì§€ì‹œìëŠ” ë§¤ë ¥ì ì¸ ëŒ€ì•ˆì´ì§€ë§Œ, ECMAScriptëŠ” ì•„ì§ ì´ëŸ¬í•œ ì§€ì‹œìë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ìƒˆ í”Œë˜ê·¸ëŠ” ìƒˆ ë¬¸ì í´ë˜ìŠ¤ ë¬¸ë²•ì„ ë‚˜íƒ€ë‚´ëŠ” ê°€ì¥ ê°„ë‹¨í•˜ê³  ì‚¬ìš©ì ì¹œí™”ì ì´ë©° êµ¬ë¬¸ë¡ ì ìœ¼ë¡œ ê°€ì¥ ê¹¨ë—í•œ ë°©ë²•ì…ë‹ˆë‹¤. ì´ ê²ƒì€ ë°˜ë“œì‹œ `u` í”Œë˜ê·¸ë¥¼ ì•”ì‹œí•˜ê³  í•¨ê»˜ ì‚¬ìš©ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

`u`ì˜ ë‹¤ìŒ ë¬¸ìì¸ `v` í”Œë˜ê·¸ë¥¼ ì œì•ˆí•©ë‹ˆë‹¤.

ë˜í•œ [ë¬¸ìì—´ì˜ ì†ì„±](https://github.com/tc39/proposal-regexp-unicode-sequence-properties)ì—ì„œ ë™ì¼í•œ ìƒˆë¡œìš´ í”Œë˜ê·¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì œì•ˆí•©ë‹ˆë‹¤.

ì¦‰, ìƒˆë¡œìš´ í”Œë˜ê·¸ëŠ” ì†ì„± ë° ë¬¸ì í´ë˜ìŠ¤ì™€ ê´€ë ¨ëœ ëª‡ ê°€ì§€ ì—°ê²°ëœ ë³€ê²½ ì‚¬í•­ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.

- ë¬¸ìì—´ì˜ ì†ì„±
- ë¬¸ì í´ë˜ìŠ¤ì— ë¬¸ìì—´ ë¦¬í„°ëŸ´ ë˜ëŠ” íŠ¹ì • ì†ì„±ì„ í†µí•´ ë‹¤ì¤‘ ë¬¸ì ë¬¸ìì—´ ìš”ì†Œê°€ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì¤‘ì²©ëœ í´ë˜ìŠ¤
- ì§‘í•© ì—°ì‚°ì
- ëŒ€ê´„í˜¸ì™€ ë„ì–´ì“°ê¸°ì˜ ë‹¨ìˆœí•œ íŒŒì‹±
- [ê°œì„ ëœ IgnoreCase ë§¤ì¹­](https://github.com/tc39/proposal-regexp-set-notation/issues/30)

ë” ë§ì€ ì˜ë…¼ì„ ìœ„í•´ì„œ [issue 2](https://github.com/tc39/proposal-regexp-set-notation/issues/2)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

### `v`í”Œë˜ê·¸ì™€ `u`í”Œë˜ê·¸ì˜ ì°¨ì´ì ì´ ë¬´ì—‡ì¸ê°€ìš”?

ì´ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì€ ê¸°ì¡´ì˜ 'u' RegExpë¥¼ 'v'ë¥¼ ì‚¬ìš©í•˜ë„ë¡ "ì—…ê·¸ë ˆì´ë“œ"í•  ë•Œ ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì°¨ì´ì ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

1. (ëª…ë°±í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.) ìƒˆë¡œìš´ ë¬¸ë²•ì˜ ì‚¬ìš©ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì´ì „ì˜ ìœ íš¨í•˜ì§€ ì•Šì€ íŒ¨í„´ë“¤ì„ ìœ íš¨í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

     ```
    [\p{ASCII_Hex_Digit}--[Ff]]
    \p{RGI_Emoji}
    [_\q{a|bc|def}]
    ```
2. ì´ì „ì˜ íŠ¹ì • ìœ íš¨í•œ íŒ¨í„´ë“¤, ì´ìŠ¤ì¼€ì´í”„ë˜ì§€ ì•Šì€ [íŠ¹ì • ë¬¸ì](https://arai-a.github.io/ecma262-compare/snapshot.html?pr=2418#prod-ClassSetSyntaxCharacter) `(` `)` `[` `{` `}` `/` `-` `|` (`\` and `]`ëŠ” ë¬¸ì í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì´ìŠ¤ì¼€ì´í•‘ì´ í•„ìš”í•˜ì§€ë§Œ, `u` í”Œë˜ê·¸ì—ì„œëŠ” í•­ìƒ ì°¸ì…ë‹ˆë‹¤.) ë˜ëŠ” [ë‘ê°œì˜ êµ¬ë‘ì ](https://arai-a.github.io/ecma262-compare/snapshot.html?pr=2418#prod-ClassSetReservedDoublePunctuator)ë¥¼ í¬í•¨í•œ ê²½ìš° ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.

    ```
    [(]
    [)]
    [[]
    [{]
    [}]
    [/]
    [-]
    [|]
    [&&]
    [!!]
    [##]
    [$$]
    [%%]
    [**]
    [++]
    [,,]
    [..]
    [::]
    [;;]
    [<<]
    [==]
    [>>]
    [??]
    [@@]
    [``]
    [~~]
    [^^^]
    [_^^]
    ```

3. `u` í”Œë˜ê·¸ëŠ” ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ì´ ë§¤ì¹­ë˜ëŠ” ë™ì§ìœ¼ë¡œ ì¸í•´ ì–´ë ¤ì›€ì„ ê²ªìŠµë‹ˆë‹¤. `v`í”Œë˜ê·¸ëŠ” ë¬¸ë²•ì´ ê°œì„ ë˜ì—ˆìŠµë‹ˆë‹¤. ìì„¸í•œ ì‚¬í•­ì€ [the explainer](https://v8.dev/features/regexp-v-flag#ignoreCase) ë˜ëŠ” [issue #30](https://github.com/tc39/proposal-regexp-set-notation/issues/30)ì„ í™•ì¸í•˜ì„¸ìš”.


## ë‹¤ë¥¸ ì •ê·œì‹ì˜ íŠ¹ì§•ì˜ ì„ ë¡€ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

ëª‡ëª‡ ë‹¤ë¥¸ ì •ê·œì‹ ì—”ì§„ì€ ì œì•ˆëœ í™•ì¥ì˜ ì¼ë¶€ ë˜ëŠ” ì „ë¶€ë¥¼ íŠ¹ì • í˜•ì‹ìœ¼ë¡œ ì§€ì›í•©ë‹ˆë‹¤.

| ì–¸ì–´/êµ¬í˜„ì‚¬í•­                                                                                                                      | í•©ì§‘í•© | ëº„ì…ˆ      | ì°¨ì§‘í•© | ì¤‘ì²©ëœ í´ë˜ìŠ¤ | ë¬¸ë²•ì  ì°¨ì´ |
| -------------------------------------------------------------------------------------------------------------------------------------------- | ----- | ---------------- | ------------ | -------------- | -------------------- |
| [ICU regex](https://unicode-org.github.io/icu/userguide/strings/regexp.html#set-expressions-character-classes)                               | âœ…    | âœ…               | âœ…           | âœ…             | âŒ                   |
| [`java.util.regex.Pattern`](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/regex/Pattern.html)                       | âœ…    | ğŸ¤· <sup>\*</sup> | âœ…           | âœ…             | âŒ                   |
| [Perl (â€œexperimental feature available starting in 5.18â€)](https://perldoc.perl.org/perlrecharclass#Extended-Bracketed-Character-Classes)    | âœ…    | âœ…               | âœ…           | âœ…             | âœ…                   |
| [.Net](https://docs.microsoft.com/en-us/dotnet/standard/base-types/character-classes-in-regular-expressions#CharacterClassSubtraction)       | âœ…    | âœ…               | âŒ           | âœ…             | âŒ                   |
| [XML Schema](https://www.w3.org/TR/xmlschema-2/#charcter-classes)                                                                            | âœ…    | âœ…               | âŒ           | âœ…             | âŒ                   |
| [Apache Xerces2 XPath regex](https://xerces.apache.org/xerces2-j/javadocs/xerces2/org/apache/xerces/impl/xpath/regex/RegularExpression.html) | âœ…    | âœ…               | âœ…           | âœ…             | âŒ                   |
| [Python regex module](https://pypi.org/project/regex/) (not built-in "re")                                                                   | âœ…    | âœ…               | âœ…           | âœ…             | âœ…                   |
| [Ruby Regexp](https://docs.ruby-lang.org/en/2.0.0/Regexp.html#class-Regexp-label-Character+Classes)                                          | âœ…    | âŒ               | âœ…           | âŒ             | âŒ                   |
| ECMAScript prior to this proposal                                                                                                            | âœ…    | âŒ               | âŒ           | âŒ             | âŒ                   |
| ECMAScript with this proposal

<sup>\*</sup> ëº„ì…ˆì€ ë¶€ì •ì˜ êµì§‘í•©ìœ¼ë¡œì„œ [ëª…ì‹œ](https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/regex/Pattern.html#subtraction1)ë˜ì—ˆìŠµë‹ˆë‹¤. ì˜¤ì§ ë¶€ì •ê³¼ ì¤‘ì²©ëœ í´ë˜ìŠ¤ì— ëŒ€í•œ ì§€ì›ìœ¼ë¡œ êµì§‘í•©ê³¼ ì°¨ì§‘í•© `[^[^ab][^cd]] === [[ab]&&[cd]]` and `[^[^ab][cd]] === [[ab]--[cd]]`ì— ëŒ€í•œ í•¨ìˆ˜ì  ë™ì¼ì„±ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì€ ì‰½ê²Œ ì½í˜€ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ì´ìœ ë¡œ, ìš°ë¦¬ì˜ ì œì•ˆì€ êµì§‘í•©ê³¼ ì°¨ì§‘í•©ì— ëŒ€í•œ ì „ìš© êµ¬ë¬¸ë„ í¬í•¨í•©ë‹ˆë‹¤.


ì—°ì‚° ìˆœì„œì™€ ê°™ì€ ë¬¸ë²•ì ì¸ ì°¨ì´ì ì— ëŒ€í•œ ë ˆí¼ëŸ°ìŠ¤ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

- [regular expression flavors that support character class subtraction](https://www.regular-expressions.info/charclasssubtract.html)
- [regular expression flavors that support character class intersection](https://www.regular-expressions.info/charclassintersect.html)

íŠ¹ì • Stack Overflow íšŒì˜ì…ë‹ˆë‹¤.

- [#3201689](https://stackoverflow.com/q/3201689/96656)
- [#10777728](https://stackoverflow.com/q/10777728/96656)
- [#15930181](https://stackoverflow.com/q/15930181/96656)
- [#17327765](https://stackoverflow.com/q/17327765/96656)
- [#29859968](https://stackoverflow.com/q/29859968/96656)
- [#44771741](https://stackoverflow.com/q/44771741/96656)
- [#55095497](https://stackoverflow.com/q/55095497/96656)


## ì´ ê²ƒì€ ìˆœì—´ ì†ì„± ì œì•ˆìœ¼ë¡œ ë¶ˆë¦¬ëŠ” ë¬¸ìì—´ ì†ì„±ê³¼ ì–´ë–»ê²Œ ìƒí˜¸ì‘ìš©ì„ í•˜ë‚˜ìš”?

2ë‹¨ê³„ë¡œ ê°€ëŠ” ê³¼ì •ì—ì„œ ë‘ ì œì•ˆ ì‚¬ì´ì˜ ìƒí˜¸ì‘ìš©ì„ ì„¤ëª…í•˜ì˜€ìŠµë‹ˆë‹¤. (ê·¸ ë°°ê²½ì€ [issue #3](https://github.com/tc39/proposal-regexp-set-notation/issues/3)ì„ ì°¸ê³ í•˜ì„¸ìš”.)

ìƒˆë¡œìš´-êµ¬ë¬¸-ë¬¸ì í´ë˜ìŠ¤ê°€ (í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ì‚¬ìš©ë˜ëŠ” ë¬¸ìì—´-ì†ì„±ì´ë‚˜ ë¬¸ì ë¦¬í„°ëŸ´ë¡œë¶€í„° ì˜¤ëŠ”)ë‹¤ì¤‘-ë¬¸ì-ë¬¸ìì—´ ìš”ì†Œë¥¼ í¬í•¨í•  ìˆ˜ ìˆë„ë¡ í•  ë¿ë§Œ ì•„ë‹ˆë¼ ë¬¸ìì—´-ì†ì„±ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ê¸° ìœ„í•œ ìƒˆë¡œìš´ í”Œë˜ê·¸ê°€ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì œì•ˆí•©ë‹ˆë‹¤.

## ë¬¸ìì—´ ì†ì„±ì´ ë¬¸ìì˜ ì†ì„±ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆê¹Œ, ì•„ë‹ˆë©´ ê·¸ ë°˜ëŒ€ì…ë‹ˆê¹Œ?

ë‹¨ë‹µìœ¼ë¡œëŠ” ì•„ë‹™ë‹ˆë‹¤.

ê¸¸ê²Œ ë§í•˜ìë©´, ìš°ë¦¬ëŠ” 2019ë…„ 5ì›” ìœ ë‹ˆì½”ë“œ ê¸°ìˆ  ìœ„ì›íšŒ(UTC)ì— ì´ ë¬¸ì œë¥¼ ì œê¸°í•˜ì˜€ê³  ([L2/19-168](https://www.unicode.org/cgi-bin/GetMatchingDocs.pl?L2/19-168)ì™€ [meeting notes](https://www.unicode.org/L2/L2019/19122.htm#:~:text=45-,B.13.8%20Supporting,Action%20Item%20for,-Mathias))ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.) ì´í›„(2021ë…„ 4ì›”)ì— êµ¬ì²´ì ì¸ ìƒˆë¡œìš´ ì•ˆì •ì„± ì •ì±…ì„ ì œì•ˆí•˜ì˜€ìŠµë‹ˆë‹¤. ([L2/21-091](https://www.unicode.org/cgi-bin/GetMatchingDocs.pl?L2/21-091)ì™€ [meeting notes](https://www.unicode.org/L2/L2021/21066.htm#:~:text=D.2%20Stability,C11%5D%20Consensus)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.)
UTCëŠ” ìš°ë¦¬ì˜ ì œì•ˆì„ ìŠ¹ì¸í•˜ê¸°ë¡œ í•©ì˜í•˜ì˜€ìŠµë‹ˆë‹¤. ê·œë²”ì ì´ê±°ë‚˜ ì •ë³´ì ì¸ ìœ ë‹ˆì½”ë“œ ì†ì„±ì˜ ë„ë©”ì¸ì€ ë³€ê²½ë˜ì§€ ì•Šì•„ì•¼í•©ë‹ˆë‹¤. íŠ¹íˆ ë¬¸ìì˜ ì†ì„±ì„ ë¬¸ìì—´ì˜ ì†ì„±ìœ¼ë¡œ ë³€ê²½í•´ì„œëŠ” ì•ˆë˜ë©°, ê·¸ ë°˜ëŒ€ì˜ ê²½ìš°ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤.


## ì†ì„± ë˜ëŠ” ë¬¸ìì—´ í´ë˜ìŠ¤ê°€ ë¬´í•œ ë¬¸ìì—´ ì§‘í•©ê³¼ ì¼ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?

ë‹¨ë‹µìœ¼ë¡œëŠ” ì•„ë‹™ë‹ˆë‹¤.

ì´ ì œì•ˆì„œëŠ” ë‹¨ìˆœíˆ [ë¬¸ìì—´ ì†ì„±ì˜ ì œì•ˆ](https://github.com/tc39/proposal-regexp-unicode-sequence-properties)ì´ë©°, íŠ¹ì • ë¬¸ìì—´ì˜ ìœ í•œí•˜ê³  ëª…í™•í•œ ë¬¸ìì—´ ì§‘í•©(`Basic_Emoji`ëŠ” ë§ì€ ë‹¨ì¼ ë¬¸ìì— ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)ìœ¼ë¡œ í™•ì¥ë˜ëŠ” ì†ì„±ì— ëŒ€í•œ ì§€ì›ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì´ ì œì•ˆì€ ìœ í•œí•œ ì§‘í•©ì„ ë§Œë“œëŠ” ëª…ì‹œì ìœ¼ë¡œ ì—´ê±°ëœ ë¬¸ìì—´ì„ ê°€ì§„ ë¬¸ì í´ë˜ìŠ¤ì— ëŒ€í•œ êµ¬ë¬¸ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì´ê²ƒì€ ë¬¸ìì˜ ìœ í•œí•œ ì†ì„±ê³¼ ë¬¸ìì˜ ìœ í•œí•œ í´ë˜ìŠ¤/ì§‘í•©ì—ì„œ ìì—°ìŠ¤ëŸ½ê²Œ í™•ì¥ëœ ê²ƒì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, UTS #51ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë§¤ìš° ë¶„ëª…í•œ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.

1. ë¬´í•œ ë¬¸ìì—´ ì§‘í•©ê³¼ ì¼ì¹˜í•˜ëŠ” *ì •ê·œì‹ì„ í†µí•´ ì •ì˜ëœ* [ì´ëª¨ì§€ zwj ìˆœì—´](https://www.unicode.org/reports/tr51/#def_emoji_zwj_sequence)
2. *ë°ì´í„° íŒŒì¼ì— ë‚˜ì—´ëœ ë¬¸ìì—´ì˜ ìœ í•œì§‘í•©*ì¸ (the RGI_Emoji_ZWJ_Sequence ì†ì„±ê³¼ ë™ì¼í•œ) [RGI ì´ëª¨ì§€ ZWJ ìˆœì—´ ì§‘í•©](https://www.unicode.org/reports/tr51/#def_emoji_ZWJ_sequences)

ë¬´í•œí•œ ë¬¸ìì—´ ì§‘í•©, ì¦‰ ì¼ì¢…ì˜ ëª…ëª…ëœ í•˜ìœ„-ì •ê·œ í‘œí˜„ì‹ì— ëŒ€í•´ ëª…ëª…ëœ ì¼ì¹˜ì— ëŒ€í•œ ì§€ì›ì€ ì´ë¡ ì ìœ¼ë¡œ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ëŠ” ë¶„ëª…íˆ ì´ ì œì•ˆì˜ ì¼ë¶€ê°€ ì•„ë‹ˆë©°, ê·¸ëŸ¬í•œ ê°€ìƒ í‘œí˜„ì˜ êµ¬ë¬¸ê³¼ ì˜ë¯¸ë¡ ì— ëŒ€í•œ ì–´ë– í•œ ì¶”ì¸¡ë„ ì´ ì œì•ˆì˜ ì¼ë¶€ê°€ ì•„ë‹™ë‹ˆë‹¤.

í–¥í›„ ê´‘ë²”ìœ„í•œ í™•ì¥ì„ ê°€ëŠ¥í•˜ê²Œ í•  ìˆ˜ ìˆëŠ” ì˜ˆë¹„ êµ¬ë¬¸(ì¤‘ê´„í˜¸ì™€ ê°™ì€)ì´ ì¶©ë¶„íˆ ìˆì§€ë§Œ, ì œì•ˆëœ ì‚¬ì–‘ ë³€ê²½ì— ì¶”ê°€í•  ê³„íšì€ ì—†ìŠµë‹ˆë‹¤.


## ë¬¸ìì—´ì´ í¬í•¨ëœ ë¬¸ì í´ë˜ìŠ¤ì˜ ì¼ì¹˜ ìˆœì„œëŠ” ì–´ë–»ê²Œ ë©ë‹ˆê¹Œ?

ì´ ì œì•ˆì€ ê°€ì¥ ê¸´ ë¬¸ìì—´ì´ ê°€ì¥ë¨¼ì € ì¼ì¹˜ë˜ë„ë¡ ë³´ì¥í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ `'xy'`ì™€ ê°™ì€ ì ‘ë‘ì‚¬ëŠ” `'xyz'`ì™€ ê°™ì€ ê¸´ ë¬¸ìì—´ì„ ìˆ¨ê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ `[a-c\q{W|xy|xyz}]` íŒ¨í„´ì„ `'a'`, `'b'`, `'c'`, `'W'`, `'xy'`, ê·¸ë¦¬ê³ `'xyz' ë¬¸ìì—´ì— ëŒ€í•´ ì ìš©í•©ë‹ˆë‹¤. ì´ íŒ¨í„´ì€ `xyz|xy|a|b|c|W`ì´ë‚˜ `xyz|xy|[a-cW]`ê³¼ ê°™ì´ ë™ì‘í•©ë‹ˆë‹¤.

ê°€ì¥ ê¸´ ë¬¸ìì—´ì„ ë¨¼ì € ì¼ì¹˜ì‹œí‚¤ëŠ” ê²ƒì€ `\p{RGI_Emoji}`ì™€ ê°™ì€ ë¬¸ìì—´ ì†ì„±ê³¼ì˜ í†µí•©ì—ì„œ ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤. ìœ ë‹ˆì½”ë“œ ì†ì„±ì€ ìˆ˜í•™ì  ì˜ë¯¸ì˜ ë¬¸ì/ë¬¸ìì—´ ì§‘í•©ì„ ì •ì˜í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë¯€ë¡œ `[\p{RGI_Emoji}--\q{ğŸ‡§ğŸ‡ª}]`ì™€ ê°™ì€ ìˆœì„œê°€ ì¡´ì¬í•˜ì§€ ì•Šì€ ë¬¸ìì—´ì— ëŒ€í•´ ë³´ì¡´í•  ìˆ˜ ìˆëŠ” ë¬¸ìì—´ì˜ ìˆœì„œëŠ” ì—†ìŠµë‹ˆë‹¤.

ê°€ì¥ ê¸´ ë¬¸ìì—´ì„ ì²˜ìŒ ì¼ì¹˜í•˜ëŠ” ì´ë¡ ì  ê·¼ê±°ì— ëŒ€í•œ ìì„¸í•œ ë‚´ìš©ì€ [issue #25](https://github.com/tc39/proposal-regexp-set-notation/issues/25)ë¥¼ í™•ì¸í•˜ì„¸ìš”.

ë¬¸ì í´ë˜ìŠ¤ì—ëŠ” ë™ì¼í•œ ê¸¸ì´ì˜ ë¬¸ìì—´ì´ ì—¬ëŸ¬ ê°œ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `[xyz]`ëŠ” ë‹¨ì¼ ë¬¸ìë¡œ êµ¬ì„±ëœ 3ê°œì˜ ë¬¸ìì—´ì„ í¬í•¨í•˜ë©°, (ìƒˆë¡œìš´ ë¬¸ìì—´ ë¬¸ë²•ì„ ì‚¬ìš©í•œ) `[\q{xx|yy|zz}]`ì€ ë‘ ë¬¸ìë¡œ êµ¬ì„±ëœ 3ê°œì˜ ë¬¸ìì—´ì„ í¬í•¨í•©ë‹ˆë‹¤. ë™ì¼í•œ ê¸¸ì´ì˜ ë¬¸ìì—´ì— ëŒ€í•´ ê³ ìœ í•˜ê±°ë‚˜ ê´€ì°° ê°€ëŠ¥í•œ ì¼ì¹˜ ìˆœì„œê°€ ì—†ìŠµë‹ˆë‹¤. ìœ„ì›íšŒëŠ” ë…¼ì˜í•˜ì˜€ê³  ë¬¸ì í´ë˜ìŠ¤ëŠ” ë‚´ì¬ëœ ìˆœì„œê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ìˆ˜í•™ì  ì§‘í•©ì´ë¼ê³  ê²°ë¡ ì§€ì—ˆìŠµë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ, `[xyz]`ì™€ `[zyx]` ì‚¬ì´ì˜ ëª…ë°±í•œ ì¼ì¹˜ ìˆœì„œê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©°, `[\q{xx|yy|zz}]`ì™€ `[\q{zz|yy|xx}]` ì‚¬ì´ì—ë„ ì¼ì¹˜ ìˆœì„œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ë‰˜ì•™ìŠ¤ëŠ” êµ¬í˜„ìë¥¼ ì§‘í•©(ìˆ˜í•™ì  ì§‘í•©ì˜ êµ¬í˜„)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ë©°, ëŸ°íƒ€ì„ ìµœì í™”ë¥¼ ì‹œë„í•©ë‹ˆë‹¤.


### ë¬¸ìì—´ì˜ ì†ì„±ì´ ì›ìì„±ì„ ë„ê³  ìˆë‚˜ìš”?

ì•„ë‹ˆìš”. ì´ì „ì˜ FAQì—ì„œ ë³´ì•˜ë“¯ì´ `\p{PropertyOfStrings}`ëŠ” ë‹¨ì¼ì„±ì„ í¬í•¨í•˜ëŠ” [atomic group](https://www.regular-expressions.info/atomic.html)ë¼ê¸°ë³´ë‹¤ëŠ” ì¼ë°˜ì ì¸ ë‹¨ì¼ì„±ì—ì„œ ë¶„ë¦¬ë©ë‹ˆë‹¤. ì´ ë™ì‘ì€ ë‹¤ìŒê³¼ ê°™ì€ ì´ìœ ë¡œ ë¯¸ë˜ ì§€í–¥ì ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.

ë§Œì•½ ë¶„ë¦¬ëœ ì œì•ˆì˜ ì¼ë¶€ë¡œì„œ [atomic groups](https://github.com/rbuckton/proposal-regexp-atomic-operators)ì´ ë‹¤ë¥¸ ì–¸ì–´ì˜ í†µì‚¬ì  ì„ ë¡€ë¥¼ ë”°ë¥´ëŠ” ECMAScriptì— ì¶”ê°€ëœë‹¤ë©´, ì‚¬ìš©ìê°€ ë‹¤ìŒê³¼ ê°™ì´ ì§ì ‘ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ë§Œì•½ ì›ìì„±ì„ ê°€ì§„ ë™ì‘ì„ ì›í•œë‹¤ë©´, `(?>\p{PropertyOfStrings})`ì„ ì‚¬ìš©í•˜ì„¸ìš”.
- ë¨¼ì—­ ì›ìì„±ì„ ì›í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, `\p{PropertyOfStrings}`ì„ ì‚¬ìš©í•˜ì„¸ìš”.

ë‹¤ë¥¸ í•œí¸ìœ¼ë¡œ ìš°ë¦¬ê°€ ë¬¸ìì—´ì˜ ì†ì„±ì˜ ì›ìì„±ì„ ê°•ìš”í•œë‹¤ë©´, ë‹¤ë¥¸ ì •ê·œ í‘œí˜„ì‹ ì¢…ë¥˜ì— ìƒˆë¡œìš´ "ë¹„ì›ì" ì •ê·œì‹ ì—°ì‚°ìë¥¼ ë§Œë“œëŠ” ê²ƒ ì´ì™¸ì—ëŠ” ì›ìì„± ë™ì‘ì—ì„œ ë²—ì–´ë‚  ìˆ˜ ìˆëŠ” ì‚¬ìš©ìì˜ ì„ íƒì€ ì—†ì„ ê²ƒì…ë‹ˆë‹¤.

ìì„¸í•œ ê²ƒì€ [issue #50](https://github.com/tc39/proposal-regexp-set-notation/issues/50)ì„ ì°¸ê³ í•˜ì„¸ìš”.


## `B`ê°€ `A`ì˜ ì ì ˆí•œ ë¶€ë¶„ì§‘í•©ì´ ì•„ë‹Œ `A--B`ì˜ ê²½ìš°ì— ì°¨ì§‘í•©ì€ ì–´ë–»ê²Œ ì‘ìš©í•©ë‹ˆê¹Œ?

ì´ì „ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ì—ì„œ ì–¸ê¸‰í•œ ë°”ì™€ ê°™ì´, í˜„ì¬ì˜ ECMAScript ì‚¬ì–‘ ë° ë‹¤ë¥¸ ì •ê·œ í‘œí˜„ì‹ì˜ êµ¬í˜„ì— ë”°ë¼, **ë¬¸ì í´ë˜ìŠ¤ëŠ” ìˆ˜í•™ì  ì§‘í•©ì…ë‹ˆë‹¤.** ë”°ë¼ì„œ, ê¸°ì¡´ ì§‘í•©ì— ì—†ëŠ” ë¬¸ìì—´ì„ ì œê±°í•˜ëŠ” ê²ƒì€ ì˜¤ë¥˜ê°€ ì•„ë‹ˆë¼ no-opì…ë‹ˆë‹¤. `RGI_Emoji`ì—ëŠ” ë¬¸ìì—´ `ğŸ‡§ğŸ‡ª`ì´ í¬í•¨ë˜ì§€ë§Œ `RGI_Emoji_ZWJ_Sequence`ì—ëŠ” í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```
# Proper subset.
[\p{RGI_Emoji}--\q{ğŸ‡§ğŸ‡ª}]
# Not a proper subset.
[\p{RGI_Emoji_ZWJ_Sequence}--\q{ğŸ‡§ğŸ‡ª}]
```

ì´ëŸ¬í•œ íŒ¨í„´ ì¤‘ í•˜ë‚˜ì— ëŒ€í•œ ì˜ˆì™¸ê°€ ë°œìƒí•œë‹¤ë©´ í˜¼ë€ìŠ¤ëŸ½ê³  ì—­íš¨ê³¼ë¥¼ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[ì´ ì„¤ëª…ìì˜ ì‹¤ì œ ì‚¬ë¡€](https://github.com/tc39/proposal-regexp-set-notation#illustrative-examples) ì¤‘ ì¼ë¶€ ì´ ìœ ìš©í•œ `A--B` íŒ¨í„´ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë©°, ìš°ë¦¬ê°€ ì§€ì›í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤. [ë°°ê²½ì— ëŒ€í•´ì„œëŠ” issue #32ë¥¼ ë³´ì„¸ìš”.](https://github.com/tc39/proposal-regexp-set-notation/issues/32)


### ëŒ€ì¹­ì°¨ëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?

ëŒ€ì¹­ì°¨ì— ëŒ€í•œ ì—°ì‚°ìë¥¼ ì œì•ˆí•˜ëŠ” ê²ƒ ë˜í•œ ê³ ë ¤í•˜ì˜€ìŠµë‹ˆë‹¤. ([issue #5](https://github.com/tc39/proposal-regexp-set-notation/issues/5)ë¥¼ í™•ì¸í•´ë³´ì„¸ìš”) í•˜ì§€ë§Œ, ì¢‹ì€ ì‚¬ë¡€ë¥¼ ë°œê²¬í•˜ì§€ ëª»í–ˆê³  ì œí•œì„ ë‹¨ìˆœí•˜ê²Œ ìœ ì§€í•˜ê³ ì í•˜ì˜€ìŠµë‹ˆë‹¤.

ê·¸ ëŒ€ì‹ , ì¶”í›„ ì‚¬ìš©ì„ ìœ„í•´ ìŒ ASCII êµ¬ë‘ì ê³¼ ê¸°í˜¸ë¥¼ ì˜ˆì•½í•  ê²ƒì„ ì œì•ˆí•©ë‹ˆë‹¤. ì´ëŠ” ëŒ€ì¹­ì°¨ì— ëŒ€í•œ [UTS \#18](https://www.unicode.org/reports/tr18/#Subtraction_and_Intersection)ì˜ ì œì•ˆê³¼ ê°™ì´ `~~`ë¥¼ ì¶”ê°€í•˜ëŠ” ì´í›„ì˜ ì œì•ˆì„ í—ˆìš©í•©ë‹ˆë‹¤.


### ì´ ì œì•ˆì´ ECMAScript ë ‰ì‹±ì— ì˜í–¥ì„ ì£¼ë‚˜ìš”?

ì•„ë‹ˆìš”. ì´ ì œì•ˆ ì´ì „ì˜ ì˜¬ë°”ë¥¸ ECMAScript ë ‰ì„œëŠ” ì´ ì œì•ˆ ì´í›„ì—ë„ ì˜¬ë°”ë¥¸ ECMAScript ë ‰ì„œë¡œ ë‚¨ëŠ”ë‹¤ëŠ” ê²ƒì´ ìš°ë¦¬ ì œì•ˆì˜ ëª…ì‹œì ì¸ ëª©í‘œì…ë‹ˆë‹¤.

## TC39 íšŒì˜ë¡ ë° ìŠ¬ë¼ì´ë“œ

- [11ì›” 2020](https://github.com/tc39/notes/blob/master/meetings/2020-11/nov-18.md#adopting-unicode-behavior-for-set-notation-in-regular-expressions) ([slides](https://docs.google.com/presentation/d/1kroPvRuQ8DMt6v2XioFmFs23J1drOK7gjPc08owaQOU/edit))
- [1ì›” 2021](https://github.com/tc39/notes/blob/master/meetings/2021-01/jan-28.md#regexp-set-notation-for-stage-1) ([slides](https://docs.google.com/presentation/d/1vXlLpf3mEa_8Y-GDiRKLCqSzNXPOKWCF7tPb0H2M9hk/edit))
- [3ì›” 2021](https://github.com/tc39/notes/blob/master/meetings/2021-03/mar-10.md#regexp-set-notation-update) ([slides](https://docs.google.com/presentation/d/1dWEHdfSsWPwoln5RD2dwnBomIIytX20UFzYSnmRsIPY/edit))
- [4ì›” 2021 ì¸íë² ì´í„° í˜¸ì¶œ](https://github.com/tc39/incubator-agendas/blob/master/notes/2021/04-08.md) ([slides](https://docs.google.com/presentation/d/1H2Doh8gbsRCthUoKCgFS-mTKxG2qY0vfC6D0dKvv4kc/edit))
- [4ì›” 2021](https://github.com/tc39/notes/blob/master/meetings/2021-04/apr-20.md#regexp-unicode-set-notation--properties-of-strings-update) ([slides](https://docs.google.com/presentation/d/1nV0NHUG5bd201rUSfJinLl8NTmnnyL5gTIhD0llsW1c/edit))
- [5ì›” 2021](https://github.com/tc39/notes/blob/master/meetings/2021-05/may-26.md#regexp-unicode-set-notation--properties-of-strings-for-stage-2) ([slides](https://docs.google.com/presentation/d/1nb_6ZcAjG4AKwVrwpalu1Ep-h7TONxoSm-uxKx83Wik/edit))
- [8ì›” 2021](https://github.com/tc39/notes/blob/master/meetings/2021-08/aug-31.md#regexp-set-notation--properties-of-strings) ([slides](https://docs.google.com/presentation/d/1foloLW13Elu0kslVsmD1hR_qZQBn8INcNpdWl0rlHrI/edit))
- [12ì›” 2021](https://github.com/tc39/notes/blob/master/meetings/2021-12/dec-14.md#regexp-set-notation--unicode-properties-of-strings-ready-for-stage-3-reviews) ([slides](https://docs.google.com/presentation/d/14AWHZvUeaKNHh_b_1xyqVlnDlYW8fWC4Lfgr0lHf2W4/edit))
- [3ì›” 2022](https://github.com/tc39/notes/blob/main/meetings/2022-03/mar-29.md#regexp-set-notation--unicode-properties-of-strings-for-stage-3) ([slides](https://docs.google.com/presentation/d/1_rcjmR2YLZMMB0i4SdZ4RV6eiJB7WmXo_i82_nh7vNg/edit))
- [5ì›” 2023](https://github.com/tc39/notes/blob/main/meetings/2023-05/may-16.md#regexp-v-flag-for-stage-4) ([slides](https://docs.google.com/presentation/d/1pjP06RhOAbYlh-6rYhe3v1SsxD2qLpiWAC2dKDBSJZo/edit))

## ì‚¬ì–‘

- [Ecmarkup source](https://github.com/tc39/ecma262/pull/2418)
- [HTML ë²„ì „](https://arai-a.github.io/ecma262-compare/?pr=2418)

## êµ¬í˜„ì‚¬í•­

- [SpiderMonkey/Firefox](https://bugzilla.mozilla.org/show_bug.cgi?id=1713657), shipping in Firefox 116
- [V8/Chrome](https://bugs.chromium.org/p/v8/issues/detail?id=11935), enabled by default in V8 v11.2 / Chrome 112 (behind the `--harmony-regexp-unicode-sets` flag in earlier versions)
- [JavaScriptCore/Safari](https://bugs.webkit.org/show_bug.cgi?id=241593), enabled by default in [Safari Technology Preview 166](https://webkit.org/blog/13964/release-notes-for-safari-technology-preview-166/) & [Safari 17](https://webkit.org/blog/14205/news-from-wwdc23-webkit-features-in-safari-17-beta/)
- [Babel](https://babeljs.io/blog/2022/02/02/7.17.0) via [regexpu-core](https://github.com/mathiasbynens/regexpu-core)
- [ICU class UnicodeSet](https://unicode-org.github.io/icu/userguide/strings/unicodeset.html) can be built from a string with syntax like a regular expression character class. UnicodeSet has long supported set operations and multi-character strings, and recently ([in ICU 70](https://unicode-org.atlassian.net/browse/ICU-21652)) added support for emoji properties of strings.
- [C++ SRELL (`std::regex`-like library)](https://www.akenotsuki.com/misc/srell/en/#ecmascript_regexp)


[HTML `pattern` ì†ì„±ì—ì„œì˜ `v`í”Œë˜ê·¸](https://github.com/whatwg/html/pull/7908)ì— ëŒ€í•œ ì§€ì›ì€ ì•„ë˜ì• ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

- [Chrome 114](https://bugs.chromium.org/p/chromium/issues/detail?id=1412729)
- [Firefox 116](https://bugzilla.mozilla.org/show_bug.cgi?id=pattern-v)
- [Safari 17](https://bugs.webkit.org/show_bug.cgi?id=pattern-v)

